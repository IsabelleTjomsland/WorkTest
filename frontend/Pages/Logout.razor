@page "/logout"
@inject CustomAuthenticationStateProvider AuthProvider
@inject NavigationManager Navigation

<h3>Are you sure you want to log out?</h3>

<button class="logout-button" @onclick="HandleLogout">Log Out</button>
<button class="cancel-button" @onclick="CancelLogout">Cancel</button>

@code {
    private bool isLoggingOut = false;

    private async Task HandleLogout()
    {
        isLoggingOut = true;
        await AuthProvider.MarkUserAsLoggedOut();   // Clear token & notify auth state
        Navigation.NavigateTo("/login", true);      // Redirect to login and reload
    }

    private void CancelLogout()
    {
        Navigation.NavigateTo("/", true); // Redirect to the home page or wherever you want
    }
}

<style>
    .logout-button {
        background-color: red;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 16px;
        border-radius: 8px; /* Rounded corners */
    }

    .logout-button:hover {
        background-color: darkred;
    }

    .cancel-button {
        background-color: grey;
        color: white;
        border: none;
        padding: 10px 20px;
        cursor: pointer;
        font-size: 16px;
        border-radius: 8px; /* Rounded corners */
    }

    .cancel-button:hover {
        background-color: darkgrey;
    }
</style>
